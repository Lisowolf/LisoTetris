@using Tetris.Engine

@{
    if (displayedData != null)
    {
        <div>
            @for (int j = 0; j < displayedData.GetLength(1); j++)
            {
                <div class="field-line">
                    @for (int i = 0; i < displayedData.GetLength(0); i++)
                    {
                        <PixelComponent State="displayedData[i, j]" />
                    }
                </div>
            }
        </div>
    }
}

@code {
    private FieldState fieldState;
    private PixelStates[,] displayedData;

    [Parameter] public FieldState FieldState
    {
        get => fieldState;
        set
        {
            fieldState = value;
            if (fieldState != null)
                displayedData = (PixelStates[,])fieldState;
        }
    }
}